## ğŸ— Django (ìƒì†)

#### âœ” htmlì„ ì‘ì„±í•˜ë©´ì„œ ê²¹ì¹˜ëŠ” ì½”ë“œê°€ ìˆëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ê²¹ì¹˜ëŠ” ì½”ë“œë¥¼ í•˜ë‚˜ì˜ ê¸°ë³¸ í…œí”Œë¦¿ì„ ì •í•´ ì‘ì„±í•œë’¤ ì´ë¥¼ í•„ìš”í• ë•Œë§ˆ  ë‹¤ ìƒì†í•´ì„œ ê°€ì ¸ë‹¤ ì“´ë‹¤. ê¸°ë³¸ì´ ë˜ëŠ” í…œí”Œë¦¿ì„ base.htmlìœ¼ë¡œ ì •í•˜ê² ë‹¤   

##### base.html 
```html
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}" />
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    </head>
    <body>
        <div class="container">
            {% block contents %}
            {% endblock %}
        </div>
        
    </body>
</html>
```
ìœ„ì˜ ì½”ë“œëŠ” ë‹¤ë¥¸ htmlíŒŒì¼ì—ë„ ë“¤ì–´ê°€ ìˆëŠ” ê³µí†µì˜ ì½”ë“œì´ë‹¤. __{% block contents %}__ ì™€ __{% endblock %}__ ì‚¬ì´ì— ë‚˜ë¨¸ì§€ í…œí”Œë¦¿ ë‚´ìš©ì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤. ì´ë•Œ ì£¼ì˜í• ì  â— { ì™€ % ì‚¬ì´ì— ê³µë°±ì´ ë“¤ì–´ê°€ì§€ ì•Šê²Œ ì¡°ì‹¬í•˜ì.   
<br>
#### âœ” base.htmlì„ ìƒì†ë°›ì•„ board.htmlë¡œ ê²Œì‹œíŒì„ ìƒì„±í•´ë³´ê² ë‹¤. 

##### board.html

```html
{% extends "base.html %"}

{% block contents %}
<div class="row mt-5">
    <div class="col-12">
        <table class="table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Title</th>
                    <th>Id</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>1</th>
                    <td>ê²Œì‹œíŒ test ì…ë‹ˆë‹¤</td>
                    <td>User</td>
                    <td>2021-01-08</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <button class="btn btn-primary">ê¸€ì“°ê¸°</button>
    </div>
</div>
{% endblock %}

```

__{% extends "base.html %"}__ ëŠ” base.htmlë¥¼ ìƒì†ë°›ê¸° ìœ„í•œ ì½”ë“œì´ë‹¤   
__{% block contents %}__ ì™€ __{% endblock %}__ ì‚¬ì´ì— board.htmlì—ì„œ ë³´ì¼ table ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ë‹¤

<br>

#### âœ” ì‘ì„±í•œ boardë¥¼ í™”ë©´ì— ë³´ì´ê²Œ í•˜ê¸° ìœ„í•´ì„œëŠ” MTVë¥¼ ì‘ì„±í•˜ì—¬ì•¼ í•œë‹¤.   
ê°€ì¥ ë¨¼ì €, urlì„ ì—°ê²°í•´ì¤€ë‹¤. í”„ë¡œì íŠ¸(root ì•±)ê°€ ìƒì„±ë˜ì—ˆì„ë•Œ ë§Œë“¤ì–´ì§„ urls.pyì—ì„œ boardë¥¼ ì—°ê²°í•´ì£¼ì   

##### urls.py (rootì•±) 
```python
from django.urls import include,path

urlpatterns = [
    path('board/', include('board.urls')),
]
```
boardì•±ì—ì„œë„ urls.pyë¥¼ ìƒì„±í•˜ì—¬ board/ë¡œ ì‹œì‘í•˜ëŠ” urlë¥¼ ì—°ê²°ì‹œì¼œì¤€ë‹¤

##### urls.py (boardì•±)
```python
from django.urls import path
from . import views

urlpatterns = [
   path('list/', views.board_list)
]
```
<br>

#### âœ” ì•„ì§ views.pyì— board_list í•¨ìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì— views.pyì—ì„œ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ìƒì„±í•´ì¤€ë‹¤
```python
def board_list(request):
  pass
  return render(request, 'board_list.html')
```
ìš”ì²­ì„ ë°›ì•„ board_list.htmlë¡œ ëœë”ë§í•´ì¤€ë‹¤.

<br> 

![ê²Œì‹œíŒ](https://user-images.githubusercontent.com/64240637/104019640-41f4ba80-51ff-11eb-844c-41dfad3e7ee0.PNG)   

ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì˜¨ë‹¤ë©´ ì˜ ì—°ê²°ì´ ëœê²ƒ !

### âœ” Models.pyì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ tableì•ˆì— ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì   (model ìƒì„± -> ëª¨ë¸ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œ)

##### models.py
```python.py
from django.db import models

class Board(models.Model):
    title = models.CharField(max_length=32, verbose_name='Title')
    contents=models.TextField(verbose_name='Content')
    writer = models.ForeignKey('fcuser.Fcuser',on_delete=models.CASCADE, verbose_name='ì‘ì„±ì') 
    registered_dttm = models.DateTimeField(auto_now_add=True, verbose_name='ë“±ë¡ì‹œê°„')
    
    def __str__(self):   
         return self.title

    class Meta:
        db_table='board' #í…Œì´ë¸”ëª… ì§€ì •
        verbose_name='ê²Œì‹œê¸€'
        verbose_name_plural ='ê²Œì‹œê¸€'

    #ëª¨ë¸ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ì í˜ì´ì§€ ìƒì„±
```
boardì— ëŒ€í•œ dbë¥¼ ìƒì„±í•´ì¤€ë‹¤. 
- TextField ëŠ” ì œí•œ ì—†ì´ ë¬¸ìë¥¼ ì…ë ¥í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤   
- ForeignKeyëŠ” modelì„ idë¡œ ì—°ê²°í•˜ëŠ” í•„ë“œë¥¼ ë§Œë“¤ì–´ì¤„ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤. fcuserì— ìˆëŠ” Fcuserì™€ ì—°ê²°í•´ì£¼ê³  CASCADEë¥¼ ì˜µì…˜ìœ¼ë¡œ ì£¼ì–´ ì‚¬ìš©ìê°€ ê²Œì‹œê¸€ì„ ì‚­ì œí•œ ê²½ìš° ì‚¬ìš©ìì˜ ëª¨ë“  ê²Œì‹œê¸€ì´ ì‚­ì œë  ìˆ˜ ìˆê²Œ ì„¤ì •í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤

### âœ”ìƒì„±í•œ modelì„ ê°€ì§€ê³  ì˜¤ëŠ” ì½”ë“œë¥¼ views.pyì—ì„œ ì‘ì„±í•´ë³´ì

#### views.py

```pyhton
from django.shortcuts import render
from .models import Board

def board_list(request):
    boards = Board.objects.all().order_by('-id')
        return render(request, 'board_list.html',{'boards': boards})
```
- Board.objects.all().order_by('-id') : boardì— ëŒ€í•œ ê°’ (ê²Œì‹œê¸€)ì„ ëª¨ë‘ ê°€ì ¸ì˜¤ëŠ”ë° ìµœì‹ ìˆœìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤ëŠ” ì½”ë“œì´ë‹¤
- return render(request, 'board_list.html',{'boards': boards}) : í…œí”Œë¦¿ì— boardsë¥¼ ì¦‰ ëª¨ë“  ê²Œì‹œë¬¼ì„ ì „ë‹¬í•´ì¤€ë‹¤   
ì´ë•Œ ëª¨ë¸ì„ ì—…ë°ì´íŠ¸ í•´ì„œ DBë„ ì—…ë°ì´íŠ¸ í•´ì£¼ì

```bash
python manage.py makemigrations
python manage.py migrate
```

### âœ” templatesì—ì„œ í•´ë‹¹ board ê²Œì‹œë¬¼ì„ ê°€ì ¸ì™€ë³´ì. ê·¸ ì „ì— adminì—ì„œ ì„ì˜ë¡œ ê²Œì‹œê¸€ì„ ì‘ì„±í•œë‹¤  
ì´ë•Œ admin.pyì—ì„œ model boardë¥¼ ë¨¼ì € ì—°ê²°í•´ì£¼ì–´ì•¼ í•œë‹¤.

##### admin.py (board ì•±)

```python
from django.contrib import admin
from .models import Board
# Register your models here.

class BoardAdmin(admin.ModelAdmin):
    list_display =('title',)

admin.site.register(Board, BoardAdmin)
```

admin/ì—ì„œ board í•„ë“œê°€ ë³´ì´ë©´ ì„±ê³µí•œ ê²ƒ !

![ê²Œì‹œíŒ2](https://user-images.githubusercontent.com/64240637/104022972-58e9db80-5204-11eb-9ee9-34d8dbb2e9cf.PNG)

QuerySet ì˜†ì— ë³´ì´ëŠ” ë‚´ìš©ì´ ì •ìƒì ìœ¼ë¡œ ë³´ì´ëŠ”ê²ƒìœ¼ë¡œ ë³´ì•„ adminì—ì„œ ì‘ì„±í•œ ê²Œì‹œê¸€ì´ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ !   

### âœ” ê·¸ëŸ¼ ì‘ì„±í•œ í•´ë‹¹ê¸€ì„ tableì— ì´ì˜ê²Œ ë³´ì´ë„ë¡ templateì—ì„œ ì„¤ì •í•´ì¤€ë‹¤   

```html
 <tbody>
   {% for board in boards %}
     <tr>
       <th>{{ board.id }}</th>
       <td>{{ board.title }}</td>
       <td>{{ board.writer }}</td>
       <td>{{ board.registered_dttm }}</td>
     </tr>
    {% endfor %}       
  </tbody>
```
ìœ„ì— ë‚´ìš©ì€ ë‚˜ì¤‘ì— ë‹¤ì‹œ ìì„¸í•˜ê²Œ ì•Œì•„ë³´ì !

![ê²Œì‹œíŒ ì™„ì„±](https://user-images.githubusercontent.com/64240637/104023530-25f41780-5205-11eb-9bba-a63e79ee6afe.PNG)

ë‹¤ìŒ ì´ë¯¸ì§€ì²˜ëŸ¼ ë‚˜ì˜¨ë‹¤ë©´ ì„±ê³µí•œê²ƒ ! ë‹¤ìŒì—” ê¸€ì“°ê¸°ë¥¼ í•´ë³´ì